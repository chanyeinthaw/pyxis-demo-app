{"version":3,"sources":["components/events/events.module.css","components/dashboard/dashboard.module.css","components/scheduler/scheduler.module.css","components/event-popup/event-popup.module.css","lib/generate-uuid.js","components/calendar/context.js","components/calendar/day.js","components/calendar/strings.js","components/calendar/calendar.js","components/scheduler/strings.js","components/events/strings.js","components/events/events.js","components/event-popup/event-popup.js","components/scheduler/scheduler.js","components/dashboard/dashboard.js","App.js","index.js","components/calendar/calendar.module.css"],"names":["module","exports","generateUniqueId","Math","trunc","random","split","map","l","len","toString","substr","join","CalendarContext","createContext","useCalendarContext","useContext","Day","day","onEventClick","_","onDayClick","getDayState","rows","state","classes","clsx","css","today","isToday","dim","isThisMonth","withMonth","shouldDisplayMonth","dayToDisplay","useMemo","format","_onEventClick","e","stopPropagation","events","sliceTo","more","length","className","onClick","slice","event","i","time","dayjs","startDate","place","strings","en","days","jp","forwardRef","Component","ref","locale","targetDate","load","loadCalendar","Event","_strings","useEffect","useImperativeHandle","calendar","calendar6","Title","props","calendarState","useState","Array","fill","setState","useCallback","target","date","startOf","daysInMonth","startIndex","push","clone","add","pivot","calendarStateObject","key","keyMM","todayMM","persistCalendar","localStorage","setItem","JSON","stringify","createEvent","created","endDate","title","memo","person","link","userId","id","deleteEvent","filter","pop","window","EE","parse","getItem","create","update","delete","all","Object","keys","at","ofUserAt","useCalendarState","Provider","value","children","Events","useAppContext","setEventViewVisibility","eventPopup","escapeListener","keyCode","addEventListener","removeEventListener","Icon","name","color","onUpdate","open","showPerson","readOnly","dateTime","editEvent","eventDateAndTime","Fragment","href","EventPopup","onSave","onDelete","setEventPopupDay","eventPopupData","data","startTime","setStartTime","endTime","setEndTime","disabled","console","log","onDateChange","parsedDateTime","setData","onInputChange","backdrop","hidden","visible","mode","close","popup","deleteIcon","input","Input","placeholder","onChange","dtGrid","closable","minDate","Date","dateFormat","iconPosition","time1","time2","Button","primary","button","Scheduler","_eventPopup","showEventView","eventController","useRef","scheduler","ControlBar","current","setTargetDate","setLocale","loader","controls","icon","Dashboard","setEvents","loggedIn","setLoggedIn","username","password","credentials","setCredentials","calendarContent","readAllEvents","onInput","dashboard","login","loginBox","onSubmit","preventDefault","type","AppContext","ContextConsumedApp","document","location","pathname","App","eventViewVisibility","setUserId","showEventPopup","eventPopupMode","provide","visibility","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.54de6fda.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"events\":\"events_events__3chq3\",\"title\":\"events_title__22rqv\",\"event\":\"events_event__1QJQF\",\"editEvent\":\"events_editEvent__d62Ui\",\"eventDateAndTime\":\"events_eventDateAndTime__1auCV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dashboard\":\"dashboard_dashboard__12W02\",\"events\":\"dashboard_events__2oPPR\",\"login\":\"dashboard_login__2W5SY\",\"loginBox\":\"dashboard_loginBox__9xfp2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"scheduler\":\"scheduler_scheduler__2X9eo\",\"controls\":\"scheduler_controls__1HK0a\",\"date\":\"scheduler_date__JYPZw\",\"languages\":\"scheduler_languages__dHbxd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"event-popup_backdrop__35TtD\",\"hidden\":\"event-popup_hidden__TG8Ci\",\"popup\":\"event-popup_popup__3D1LO\",\"input\":\"event-popup_input__1js-I\",\"title\":\"event-popup_title__3mD7T\",\"deleteIcon\":\"event-popup_deleteIcon__3knhS\",\"date\":\"event-popup_date__3j52r\",\"dtGrid\":\"event-popup_dtGrid__A8jCm\",\"time1\":\"event-popup_time1__1Jz-G\",\"time2\":\"event-popup_time2__2TgxO\",\"time\":\"event-popup_time__2xt5L\",\"button\":\"event-popup_button__3Z7Wl\"};","export const generateUniqueId = () => {\r\n    const genPart = (len) => Math.random().toString(16).substr(2, len)\r\n\r\n    return (Math.trunc((Math.random() * 10e4)) + '').split(``).map(l => genPart(+l)).join('-')\r\n}","import { createContext, forwardRef, useCallback, useContext, useEffect, useState } from \"react\";\r\nimport dayjs from 'dayjs'\r\nimport { generateUniqueId } from \"../../lib/generate-uuid\";\r\n\r\nlet CalendarContext = createContext(null)\r\n\r\nfunction useCalendarState() {\r\n    const [state, setState] = useState({\r\n        calendar: {},\r\n        days: Array(35).fill(null),\r\n        rows: 5,\r\n    })\r\n\r\n    const getDayState = useCallback((day) => {\r\n        return !day ? { events: [] } : state.calendar[day.format('YYYY-MM-DD')]\r\n    }, [state])\r\n\r\n    const load = useCallback((target = null) => {\r\n        const format = 'YYYY-MM-DD'\r\n        const today = dayjs()\r\n        const date = (target ? dayjs(target) : dayjs()).startOf('month')\r\n        const daysInMonth = date.daysInMonth()\r\n        const startIndex = date.format('d')\r\n\r\n        const days = []\r\n        for(let i = startIndex; i > 0; i--) {\r\n            days.push(\r\n                date.clone()\r\n                    .add(-i, 'day')\r\n            )\r\n        }\r\n\r\n        days.push(date)\r\n        for(let i = 1; i < daysInMonth; i++) {\r\n            days.push(\r\n                date.clone()\r\n                    .add(i, 'day')\r\n            )\r\n        }\r\n        \r\n        const length = days.length\r\n        const pivot = length > 35 ? 42 - length : 35 - length;\r\n\r\n        for(let i = 0; i < pivot ; i++) {\r\n            days.push(\r\n                days[days.length - 1].clone().add(1, 'day')\r\n            )\r\n        }\r\n\r\n        let calendarStateObject = {}\r\n        for(let day of days) {\r\n            const key = day.format(format)\r\n\r\n            const keyMM = day.format('MM')\r\n            const todayMM = date.format('MM')\r\n            const keyD = +day.format('D')\r\n\r\n            const shouldDisplayMonth = keyD === 1\r\n\r\n            calendarStateObject[key] = {\r\n                shouldDisplayMonth,\r\n                isThisMonth: keyMM === todayMM,\r\n                isToday: today.format(format) === key,\r\n                events: [],\r\n            }\r\n        }\r\n\r\n        setState(state => ({\r\n            ...state,\r\n            calendar: calendarStateObject,\r\n            days: [...days],\r\n            rows: days.length / 7\r\n        }))\r\n    }, [setState])\r\n\r\n    const loadCalendar = () => {\r\n        let calendar = JSON.parse(localStorage.getItem('calendar'))\r\n        if (!calendar) return\r\n        setState(state => ({\r\n            ...state,\r\n            calendar: {\r\n                ...state.calendar,\r\n                ...calendar\r\n            }\r\n        }))\r\n    }\r\n\r\n    const persistCalendar = () => localStorage.setItem('calendar', JSON.stringify(state.calendar))\r\n\r\n    const createEvent = ({ startDate, endDate, title, memo, person, place, link, userId }) => {\r\n        const date = dayjs(startDate).format('YYYY-MM-DD')\r\n        let created\r\n        setState(state => {\r\n            let calendar = { ...state.calendar }\r\n            created = {\r\n                id: generateUniqueId(),\r\n                startDate, endDate,\r\n                title, memo,\r\n                person, place,\r\n                link, userId\r\n            }\r\n            calendar[date].events.push(created)\r\n\r\n            return {\r\n                ...state,\r\n                calendar\r\n            }\r\n        })\r\n\r\n        persistCalendar()\r\n\r\n        return created\r\n    }\r\n\r\n    const deleteEvent = ({date, id}) => {\r\n        let day = state.calendar[date]\r\n        if (!day) return false\r\n\r\n        let event = day.events.filter(event => event.id === id)\r\n        event = event.pop()\r\n\r\n        if (!event) return false        \r\n        setState(state => {\r\n            let calendar = { ...state.calendar }\r\n            let events = calendar[date].events.filter(event => event.id !== id)\r\n            calendar[date].events = events\r\n\r\n            return {\r\n                ...state,\r\n                calendar\r\n            }\r\n        })\r\n\r\n        persistCalendar()\r\n\r\n        return event\r\n    }\r\n\r\n    const updateEvent = ({date, id}, { startDate, endDate, title, memo, person, place, link, userId }) => {\r\n        if (deleteEvent({id, date})) {\r\n            createEvent({ startDate, endDate, title, memo, person, place, link, userId })\r\n\r\n            return true\r\n        }\r\n    }\r\n    \r\n    const getAllEvents = () => {\r\n        let events = []\r\n        let days = Object.keys(state.calendar)\r\n\r\n        days.map(date => {\r\n            events.push(...state.calendar[date].events)\r\n        })\r\n        \r\n        return events\r\n    }\r\n\r\n    const getEventsOfUserAtDate = (userId, date) => {\r\n        return (state.calendar[date] || {events: []}).events.filter(event => event.userId === userId)\r\n    }\r\n\r\n    const getEventsAt = (date) => {\r\n        return (state.calendar[date] || {events: []} ).events\r\n    }\r\n\r\n    useEffect(() => {\r\n        window.EE = createEvent\r\n    }, [state])\r\n\r\n    return { state, load, getDayState, loadCalendar, Event: {\r\n        create: createEvent,\r\n        update: updateEvent,\r\n        delete: deleteEvent,\r\n        all: getAllEvents,\r\n        at: getEventsAt,\r\n        ofUserAt: getEventsOfUserAtDate\r\n    } }\r\n}\r\n\r\nexport function useCalendarContext() {\r\n    return useContext(CalendarContext)\r\n}\r\n\r\nexport const withCalendarContext = Component => {\r\n    Component = forwardRef(Component)\r\n    function ContextAwareCalendar({...props}, ref) {\r\n        const calendarState = useCalendarState()\r\n    \r\n        return (\r\n            <CalendarContext.Provider value={calendarState}>\r\n                <Component {...props} ref={ref} />\r\n            </CalendarContext.Provider>\r\n        )\r\n    }\r\n\r\n    return ContextAwareCalendar\r\n}","import css from './calendar.module.css'\r\nimport clsx from \"clsx\"\r\nimport { useMemo } from \"react\"\r\nimport { useCalendarContext } from './context'\r\nimport dayjs from 'dayjs'\r\n\r\nexport default function Day({day, onEventClick = _ => {}, onDayClick = _ => {}}) {\r\n    let {getDayState, state: {rows}} = useCalendarContext()\r\n\r\n    const state = getDayState(day)\r\n    const classes = clsx({\r\n        [css.today]: state.isToday,\r\n        [css.dim]: !state.isThisMonth,\r\n        [css.withMonth]: state.shouldDisplayMonth\r\n    })\r\n\r\n    const dayToDisplay = useMemo(() => {\r\n        if (!day) return ''\r\n        if (state.shouldDisplayMonth) return day.format('MMM D')\r\n\r\n        return day.format('D')\r\n    }, [day, state])\r\n\r\n    const _onEventClick = e => {\r\n        e.stopPropagation()\r\n        onEventClick(state.events)\r\n    }\r\n\r\n    const sliceTo = rows === 5 ? 4 : 3\r\n    const more = state.events.length - sliceTo\r\n\r\n    return (\r\n        <div className={css.day} onClick={onDayClick} >\r\n            <div>\r\n                <span className={classes} >\r\n                    {dayToDisplay}\r\n                </span>\r\n            </div>\r\n\r\n            <div>\r\n                { state.events.slice(0, sliceTo).map((event, i) => {\r\n                    let time = dayjs(event.startDate).format('h:mma')\r\n                    let place = event.place\r\n\r\n                    return (\r\n                        <span className={css.event} key={i} onClick={_onEventClick}>\r\n                            {time + ' '}\r\n                            <span>{place}</span>\r\n                        </span>\r\n                    )\r\n                })}\r\n\r\n                { more > 0 && <span className={css.more} onClick={_onEventClick} >{more} more ...</span> }\r\n            </div>\r\n        </div>\r\n    )\r\n}","const strings = {\r\n    en: {\r\n        days: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat']\r\n    },\r\n\r\n    jp: {\r\n        days: ['日', '月', '火', '水', '木', '金', '土']\r\n    }\r\n}\r\n\r\nexport default strings","import clsx from 'clsx'\r\nimport React, { forwardRef, useEffect, useImperativeHandle } from 'react'\r\nimport css from './calendar.module.css'\r\nimport { useCalendarContext, withCalendarContext } from './context'\r\nimport Day from './day'\r\nimport _strings from './strings'\r\n\r\nfunction Calendar({locale = 'en', targetDate = null, onEventClick = events => {}, onDayClick = day => {}}, ref) {\r\n    let {state: {days, rows}, load, loadCalendar, Event } = useCalendarContext()\r\n    let strings = _strings[locale]\r\n\r\n    useEffect(() => {\r\n        load(targetDate)\r\n        loadCalendar()\r\n\r\n        // eslint-disable-next-line\r\n    }, [targetDate, load])\r\n\r\n    useImperativeHandle(ref, () => Event)\r\n\r\n    return (\r\n        <div className={clsx(css.calendar, { [css.calendar6]: rows === 6 })} >\r\n            {\r\n                strings.days.map(day => <Title key={day}>{day}</Title>)\r\n            }\r\n\r\n            {\r\n                days.map((day, i) => {\r\n                    return (\r\n                        <Day \r\n                            key={i} \r\n                            day={day} \r\n                            onDayClick={_ => onDayClick(day)}\r\n                            onEventClick={events => onEventClick(events)} />\r\n                    )\r\n                })\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default forwardRef(withCalendarContext(Calendar))\r\n\r\nfunction Title({children}) {\r\n    return (\r\n        <span className={css.title}>\r\n            {children}\r\n        </span>\r\n    )\r\n}","const strings = {\r\n    en: {\r\n        today: 'Today'\r\n    },\r\n    \r\n    jp: {\r\n        today: '今日'\r\n    }\r\n}\r\n\r\nexport default strings","const strings = {\r\n    en: {\r\n        events: 'Events'\r\n    },\r\n\r\n    jp: {\r\n        events: 'イベント'\r\n    }\r\n}\r\n\r\nexport default strings","import css from './events.module.css'\r\nimport {Icon} from 'semantic-ui-react'\r\nimport { useAppContext } from '../../App'\r\nimport React, { useEffect } from 'react'\r\nimport dayjs from 'dayjs'\r\nimport _strings from './strings.js'\r\n\r\nexport default function Events() {\r\n    const {state: {events, locale}, setEventViewVisibility, eventPopup} = useAppContext()\r\n    const strings = _strings[locale]\r\n\r\n    useEffect(() => {\r\n        let escapeListener = e => {\r\n            if (e.keyCode === 27) \r\n                setEventViewVisibility(false)\r\n        }\r\n\r\n        window.addEventListener('keydown', escapeListener)\r\n\r\n        return () => {\r\n            window.removeEventListener('keydown', escapeListener)\r\n        }\r\n\r\n        // eslint-disable-next-line\r\n    }, [])\r\n\r\n    return (\r\n        <div className={css.events}>\r\n            <div className={css.title}>\r\n                <span>{strings.events}</span>\r\n                <Icon name='close' color='grey' onClick={_ => setEventViewVisibility(false)} />\r\n            </div>\r\n            { events.map((event, i) => {\r\n                const onUpdate = () => {\r\n                    eventPopup.open('update', null, {\r\n                        ...event\r\n                    })\r\n                }\r\n\r\n                return (\r\n                    <Event\r\n                        onUpdate={onUpdate}\r\n                        key={i}\r\n                        showPerson={false} \r\n                        link={event.link}\r\n                        place={event.place}\r\n                        person={event.person}\r\n                        endDate={event.endDate}\r\n                        startDate={event.startDate}\r\n                        title={event.title}\r\n                        memo={event.memo} />\r\n                    )\r\n            }) }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport function Event({ readOnly = false, title, showPerson, person, memo, startDate, endDate, place, link, onUpdate = () => {}}) {\r\n    let dateTime = dayjs(startDate).format('MMM D YYYY ⋅ hh:mma - ') + dayjs(endDate).format('hh:mma')\r\n\r\n    return (\r\n        <div className={css.event}>\r\n            { !readOnly && <Icon name='edit' className={css.editEvent} color='blue' onClick={onUpdate} /> }\r\n            <Icon name='sticky note' />\r\n            <div className={css.eventDateAndTime} >\r\n                <span>{title}</span>\r\n                <span>{dateTime}</span>\r\n            </div>\r\n            {\r\n                showPerson && <React.Fragment>\r\n                    <Icon name='user' />\r\n                    <span>{person}</span>\r\n                </React.Fragment>\r\n            }\r\n            <Icon name='map marker' />\r\n            <span>{place}</span>\r\n            <Icon name='file alternate' />\r\n            <span>{memo}</span>\r\n            {\r\n                !!link && <React.Fragment>\r\n                    <Icon name='linkify' />\r\n                    <a href={link}>{link}</a>\r\n                </React.Fragment>\r\n            }\r\n        </div>\r\n    )\r\n}","import clsx from 'clsx'\r\nimport { useAppContext } from '../../App'\r\nimport css from './event-popup.module.css'\r\nimport {Icon, Input, Button} from 'semantic-ui-react'\r\nimport {\r\n    DateInput, TimeInput\r\n  } from 'semantic-ui-calendar-react';\r\nimport { useMemo, useState } from 'react';\r\nimport dayjs from 'dayjs';\r\nimport { generateUniqueId } from '../../lib/generate-uuid';\r\n\r\nexport default function EventPopup({onSave, onDelete}) {\r\n    const { \r\n        state,\r\n        eventPopup,\r\n        setEventPopupDay\r\n    } = useAppContext()\r\n\r\n    const eventPopupData = state.eventPopup.data\r\n    const [startTime, setStartTime] = useState( !!eventPopupData.startDate ? dayjs(eventPopupData.startDate).format('HH:mm'): dayjs().format('HH:mm'))\r\n    const [endTime, setEndTime] = useState( !!eventPopupData.endDate ? dayjs(eventPopupData.endDate).format('HH:mm'): dayjs().add(1, 'hour').format('HH:mm') )\r\n\r\n    const disabled = useMemo(() => {\r\n        let keys = Object.keys(state.eventPopup.data)\r\n        for(let key of keys) {\r\n            if (key === 'id') continue;\r\n            if (state.eventPopup.data[key] === '') {\r\n                console.log(key, state.eventPopup.data[key])\r\n                return true\r\n            }\r\n        }\r\n        return false\r\n    }, [state.eventPopup.data])\r\n\r\n    const onDateChange = (e, {name, value}) => {\r\n        if (name === 'date') {\r\n            return setEventPopupDay(value)\r\n        } \r\n\r\n        const parsedDateTime = dayjs(`${state.eventPopup.day} ${value}`, 'YYYY-MM-DD HH:mm').format()\r\n\r\n        if (name === 'startTime') {\r\n            setStartTime(value)\r\n            eventPopup.setData({\r\n                startDate: parsedDateTime\r\n            })\r\n        } else {\r\n            setEndTime(value)\r\n            eventPopup.setData({\r\n                endDate: parsedDateTime\r\n            })\r\n        }\r\n    }\r\n\r\n    const onInputChange = key => event => {\r\n        eventPopup.setData({\r\n            [key]: event.target.value\r\n        })\r\n    }\r\n\r\n    const classes = clsx(css.backdrop, {\r\n        [css.hidden]: !eventPopup.visible\r\n    })\r\n\r\n    const onDataSave = () => {\r\n        onSave(state.eventPopup.mode, {\r\n            ...state.eventPopup.data,\r\n            userId: generateUniqueId()\r\n        })\r\n    }\r\n\r\n    const _onDelete = () => {\r\n        onDelete(eventPopupData.id, dayjs(eventPopupData.startDate).format('YYYY-MM-DD'))\r\n    }\r\n\r\n    const title = eventPopup.mode === 'create' ? 'Create event' : 'Update event'\r\n\r\n    return (\r\n        <div className={classes} onClick={_ => eventPopup.close()}>\r\n            <div className={css.popup} onClick={e => e.stopPropagation()}>\r\n                { state.eventPopup.mode === 'update' && \r\n                    <Icon name='trash' color='red' className={css.deleteIcon} onClick={_ => _onDelete()} /> }\r\n                <span className={css.title} >{title}</span>\r\n\r\n                <div className={css.input}>\r\n                    <span>Title</span>\r\n                    <Input value={eventPopupData.title} placeholder='Event title' onChange={onInputChange('title')} />\r\n                </div>\r\n\r\n                <div className={css.input}>\r\n                    <span>Date</span>\r\n                    <div className={css.dtGrid}>\r\n                        <DateInput\r\n                            value={state.eventPopup.day || dayjs(eventPopupData.startDate).format('YYYY-MM-DD')}\r\n                            closable={true}\r\n                            minDate={new Date()}\r\n                            dateFormat='YYYY-MM-DD'\r\n                            onChange={onDateChange}\r\n                            className={css.date}\r\n                            name=\"date\"\r\n                            placeholder=\"Date of the event\"\r\n                            iconPosition=\"right\" />\r\n                         { !!state.eventPopup.day && <TimeInput\r\n                            value={startTime}\r\n                            closable={true}\r\n                            className={clsx(css.time1, css.time)}\r\n                            name=\"startTime\"\r\n                            onChange={onDateChange}\r\n                            placeholder=\"From\"\r\n                            iconPosition=\"right\" /> }\r\n                        { !!state.eventPopup.day && <TimeInput\r\n                            value={endTime}\r\n                            closable={true}\r\n                            className={clsx(css.time2, css.time)}\r\n                            name=\"endTime\"\r\n                            onChange={onDateChange}\r\n                            placeholder=\"To\"\r\n                            iconPosition=\"right\" /> }\r\n                    </div>\r\n                </div>\r\n\r\n                <div className={css.input}>\r\n                    <span>Name</span>\r\n                    <Input value={eventPopupData.person} placeholder='Your name' onChange={onInputChange('person')} />\r\n                </div>\r\n\r\n                <div className={css.input}>\r\n                    <span>Place</span>\r\n                    <Input value={eventPopupData.place} placeholder='Place of the event' onChange={onInputChange('place')} />\r\n                </div>\r\n\r\n                <div className={css.input}>\r\n                    <span>Link</span>\r\n                    <Input value={eventPopupData.link} placeholder='Link to the event' onChange={onInputChange('link')} />\r\n                </div>\r\n\r\n                <div className={css.input}>\r\n                    <span>Memo</span>\r\n                    <Input value={eventPopupData.memo} placeholder='Description of the event' onChange={onInputChange('memo')} />\r\n                </div>\r\n\r\n                <Button onClick={onDataSave} primary className={css.button} disabled={disabled} >Save</Button>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import Calendar from '../calendar/calendar'\r\nimport css from './scheduler.module.css'\r\nimport {Button, Select} from 'semantic-ui-react'\r\nimport _strings from './strings'\r\nimport dayjs from 'dayjs'\r\nimport { useAppContext } from '../../App'\r\nimport Events from '../events/events'\r\nimport { useEffect, useRef } from 'react'\r\nimport EventPopup from '../event-popup/event-popup'\r\n\r\nexport default function Scheduler() {\r\n    const {state: {locale, targetDate, events, eventPopup: _eventPopup}, showEventView, setEventViewVisibility, eventPopup} = useAppContext()\r\n    const eventController = useRef({})\r\n\r\n    const onDayClick = day => {\r\n        eventPopup.open('create', day.format('YYYY-MM-DD'))\r\n    }\r\n\r\n    const onSave = (mode, data) => {\r\n        if (!eventController.current) return\r\n        let date = dayjs(data.startDate).format('YYYY-MM-DD')\r\n\r\n        if (mode === 'create') {\r\n            eventController.current.create(data)\r\n        } else {\r\n            eventController.current.update({\r\n                id: _eventPopup.data.id,\r\n                date: date\r\n            }, data)\r\n        }\r\n\r\n        setEventViewVisibility(false)\r\n        eventPopup.close()\r\n    }\r\n\r\n    const onDelete = (id, date) => {\r\n        if (!eventController.current) return\r\n        eventController.current.delete({id, date})\r\n\r\n        setEventViewVisibility(false)\r\n        eventPopup.close()\r\n    }\r\n\r\n    return (\r\n        <div className={css.scheduler} >\r\n            <ControlBar />\r\n            <Calendar ref={eventController} locale={locale} targetDate={targetDate.format('YYYY-MM-DD')} onEventClick={events => setEventViewVisibility(true, events)} onDayClick={onDayClick} />\r\n            { showEventView && <Events eventController={eventController}/> }\r\n            <EventPopup onSave={onSave} onDelete={onDelete} />\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction ControlBar() {\r\n    const {state: {locale, targetDate}, setLocale, setTargetDate} = useAppContext()\r\n    const strings = _strings[locale]\r\n\r\n    const loader = (pivot = 0) => _ => {\r\n        let date = pivot === 0 ? dayjs() : targetDate\r\n\r\n        setTargetDate(date.add(pivot, 'month'))\r\n    }\r\n\r\n    const languages = [{ key: 'jp', value: 'jp', text: 'JP'}, { key: 'en', value: 'en', text: 'EN'}]\r\n\r\n    return ( <div className={css.controls} > \r\n        <div>\r\n            <Button color='blue' onClick={loader()}>\r\n                {strings.today}\r\n            </Button>\r\n\r\n            <Button icon='angle left' onClick={loader(-1)}/>\r\n            <Button icon='angle right' onClick={loader(1)} />\r\n\r\n            <span className={css.date} >{targetDate.format('MMM YYYY')}</span>\r\n        </div>\r\n\r\n        {/* <Select \r\n            onChange={(e, {value}) => setLocale(value)}\r\n            options={languages} \r\n            value={locale} className={css.languages} /> */}\r\n    </div> )\r\n}","import css from './dashboard.module.css'\r\nimport {Event} from '../events/events'\r\nimport { useEffect, useState } from 'react'\r\nimport {Input, Button} from 'semantic-ui-react'\r\n\r\nexport default function Dashboard() {\r\n    const [events, setEvents] = useState([])\r\n    const [loggedIn, setLoggedIn] = useState(false)\r\n    const [credentials, setCredentials] = useState({\r\n        username: '',\r\n        password: ''\r\n    })\r\n\r\n    const readAllEvents = () => {\r\n        let calendarContent = localStorage.getItem('calendar')\r\n        if (!calendarContent) return\r\n\r\n        let calendar = JSON.parse(calendarContent)\r\n        let events = []\r\n        for(let key in calendar) {\r\n            events.push(...calendar[key].events)\r\n        }\r\n\r\n        setEvents(events)\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (loggedIn) readAllEvents()\r\n    }, [loggedIn])\r\n\r\n    const onLogin = (e) => {\r\n        e.preventDefault()\r\n\r\n        if (credentials.username === 'admin' && credentials.password === 'admin') {\r\n            setLoggedIn(true)\r\n        }\r\n\r\n        setCredentials({\r\n            username: '',\r\n            password: ''\r\n        })\r\n    }\r\n\r\n    const onInput = key => event => {\r\n        setCredentials({\r\n            ...credentials,\r\n            [key]: event.target.value\r\n        })\r\n    }\r\n\r\n    if (!loggedIn) {\r\n        return (\r\n            <div className={css.login}>\r\n                <form className={css.loginBox} onSubmit={onLogin}>\r\n                    <span>Login</span>\r\n\r\n                    <Input placeholder='Username' onChange={onInput('username')}/>\r\n\r\n                    <Input type='password' placeholder='Password' onChange={onInput('password')}/>\r\n\r\n                    <Button type='submit' primary>Submit</Button>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className={css.dashboard}>\r\n            <span>Events</span>\r\n\r\n            <div className={css.events}>\r\n                { events.map(event => {\r\n                    console.log(event.startDate)\r\n                    return <Event\r\n                        readOnly={true}\r\n                        showPerson={true}\r\n                        link={event.link}\r\n                        place={event.place}\r\n                        person={event.person}\r\n                        endDate={event.endDate}\r\n                        startDate={event.startDate}\r\n                        title={event.title}\r\n                        memo={event.memo} />\r\n                })}\r\n            </div>\r\n        </div>\r\n    )\r\n}","import dayjs from \"dayjs\";\nimport { createContext, useContext, useEffect, useState } from \"react\";\nimport Scheduler from \"./components/scheduler/scheduler\";\nimport { generateUniqueId } from \"./lib/generate-uuid\"\nimport Dashboard from './components/dashboard/dashboard'\n\nlet AppContext = createContext(null)\n\nfunction App() {\n    const eventPopupData = {\n        id: '', title: 'title', memo: '',\n        place: '', link: '', person: '',\n        startDate: '', endDate: ''\n    }\n\n    const [state, setState] = useState({\n        targetDate: dayjs(),\n        userId: '',\n        locale: 'en',\n        events: [],\n        eventPopup: {\n            mode: 'hidden', // create | update\n            day: null,\n            data: eventPopupData\n        },\n        eventViewVisibility: false\n    })\n\n    useEffect(() => {\n        const locale = localStorage.getItem('locale')\n        const userId = localStorage.getItem('userId')\n\n        setUserId(userId)\n        setLocale(locale || 'en')\n\n        // eslint-disable-next-line\n    }, [])\n\n    const openEventPopup = (mode = 'create', day, data) => {\n        setState(state => {\n            if (mode === 'create') {\n                return {\n                    ...state,\n                    eventPopup: { ...state.eventPopup, mode, day }\n                } \n            } \n            \n            if (mode === 'update') {\n                return {\n                    ...state,\n                    eventPopup: { ...state.eventPopup, mode, day: null, data: { ...data } }\n                }\n            }\n        })\n    }\n\n    const closeEventPopup = () => {\n        setState(state => ({\n            ...state,\n            eventPopup: {\n                mode: 'hidden',\n                day: null,\n                data: eventPopupData\n            }\n        }))\n    }\n\n    const setEventPopupData = (data) => {\n        setState(state => {\n            return {\n                ...state,\n                eventPopup: {\n                    ...state.eventPopup,\n                    data: { ...state.eventPopup.data, ...data }\n                }\n            }\n        })\n    }\n\n    const showEventPopup = state.eventPopup.mode !== 'hidden'\n    const eventPopupMode = state.eventPopup.mode\n\n    const showEventView = state.eventViewVisibility && state.events.length > 0\n\n    const setTargetDate = date => setState(state => ({\n        ...state,\n        targetDate: date\n    }))\n\n    const setLocale = locale => {\n        setState(state => ({\n            ...state,\n            locale\n        }))\n\n        localStorage.setItem('locale', locale)\n    }\n\n    const setUserId = (userId) => {\n        userId = userId || generateUniqueId()\n\n        setState(state => ({\n            ...state,\n            userId\n        }))\n\n        localStorage.setItem('userId', userId)\n    }\n\n    const setEventViewVisibility = (visibility, events = []) => setState(state => ({\n        ...state,\n        eventViewVisibility: visibility,\n        events: [...events]\n    }))\n\n    const provide = {\n        state, \n        eventPopup: {\n            open: openEventPopup,\n            close: closeEventPopup,\n            mode: eventPopupMode,\n            visible: showEventPopup,\n            setData: setEventPopupData\n        },\n        showEventView, \n        setEventPopupDay: (day) => {\n            setState(state => ({\n                ...state,\n                eventPopup: {\n                    ...state.eventPopup,\n                    day\n                }\n            }))\n        },\n        setLocale, \n        setEventViewVisibility,\n        setTargetDate\n    }\n\n    return (\n        <AppContext.Provider value={provide}>\n            <ContextConsumedApp />\n        </AppContext.Provider>\n    )\n}\n\nexport function useAppContext() {\n    return useContext(AppContext)\n}\n\nfunction ContextConsumedApp() {\n    let isDashboard = document.location.pathname === '/dashboard'\n    return isDashboard ? <Dashboard /> : <Scheduler />\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'semantic-ui-css/semantic.min.css'\nimport 'react-semantic-ui-datepickers/dist/react-semantic-ui-datepickers.css';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"calendar\":\"calendar_calendar__2VAmk\",\"calendar6\":\"calendar_calendar6__YTYN6\",\"title\":\"calendar_title__2RHEq\",\"day\":\"calendar_day__2DYuE\",\"withMonth\":\"calendar_withMonth__K2MZn\",\"today\":\"calendar_today__y5NiB\",\"dim\":\"calendar_dim__MJp24\",\"event\":\"calendar_event__3vfkT\",\"more\":\"calendar_more__39H8v\"};"],"sourceRoot":""}