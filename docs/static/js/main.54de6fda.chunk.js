(this["webpackJsonpot-scheduler"]=this["webpackJsonpot-scheduler"]||[]).push([[0],{124:function(e,t,a){e.exports={events:"events_events__3chq3",title:"events_title__22rqv",event:"events_event__1QJQF",editEvent:"events_editEvent__d62Ui",eventDateAndTime:"events_eventDateAndTime__1auCV"}},140:function(e,t,a){e.exports={dashboard:"dashboard_dashboard__12W02",events:"dashboard_events__2oPPR",login:"dashboard_login__2W5SY",loginBox:"dashboard_loginBox__9xfp2"}},184:function(e,t,a){e.exports={scheduler:"scheduler_scheduler__2X9eo",controls:"scheduler_controls__1HK0a",date:"scheduler_date__JYPZw",languages:"scheduler_languages__dHbxd"}},24:function(e,t,a){e.exports={backdrop:"event-popup_backdrop__35TtD",hidden:"event-popup_hidden__TG8Ci",popup:"event-popup_popup__3D1LO",input:"event-popup_input__1js-I",title:"event-popup_title__3mD7T",deleteIcon:"event-popup_deleteIcon__3knhS",date:"event-popup_date__3j52r",dtGrid:"event-popup_dtGrid__A8jCm",time1:"event-popup_time1__1Jz-G",time2:"event-popup_time2__2TgxO",time:"event-popup_time__2xt5L",button:"event-popup_button__3Z7Wl"}},281:function(e,t,a){},421:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(68),o=a.n(r),s=(a(279),a(280),a(281),a(112)),i=a(10),l=a(51),d=a(19),u=a.n(d),j=a(39),p=a(2),v=a(52),b=a.n(v),m=function(){return(Math.trunc(1e5*Math.random())+"").split("").map((function(e){return t=+e,Math.random().toString(16).substr(2,t);var t})).join("-")},O=a(6),f=Object(n.createContext)(null);function h(){return Object(n.useContext)(f)}function x(e){var t,a=e.day,c=e.onEventClick,r=void 0===c?function(e){}:c,o=e.onDayClick,s=void 0===o?function(e){}:o,i=h(),l=i.getDayState,d=i.state.rows,v=l(a),m=Object(p.a)((t={},Object(j.a)(t,b.a.today,v.isToday),Object(j.a)(t,b.a.dim,!v.isThisMonth),Object(j.a)(t,b.a.withMonth,v.shouldDisplayMonth),t)),f=Object(n.useMemo)((function(){return a?v.shouldDisplayMonth?a.format("MMM D"):a.format("D"):""}),[a,v]),x=function(e){e.stopPropagation(),r(v.events)},_=5===d?4:3,D=v.events.length-_;return Object(O.jsxs)("div",{className:b.a.day,onClick:s,children:[Object(O.jsx)("div",{children:Object(O.jsx)("span",{className:m,children:f})}),Object(O.jsxs)("div",{children:[v.events.slice(0,_).map((function(e,t){var a=u()(e.startDate).format("h:mma"),n=e.place;return Object(O.jsxs)("span",{className:b.a.event,onClick:x,children:[a+" ",Object(O.jsx)("span",{children:n})]},t)})),D>0&&Object(O.jsxs)("span",{className:b.a.more,onClick:x,children:[D," more ..."]})]})]})}var _={en:{days:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},jp:{days:["\u65e5","\u6708","\u706b","\u6c34","\u6728","\u91d1","\u571f"]}};var D,g=Object(n.forwardRef)((D=function(e,t){var a=e.locale,c=void 0===a?"en":a,r=e.targetDate,o=void 0===r?null:r,s=e.onEventClick,i=void 0===s?function(e){}:s,l=e.onDayClick,d=void 0===l?function(e){}:l,u=h(),v=u.state,m=v.days,f=v.rows,D=u.load,g=u.loadCalendar,Y=u.Event,k=_[c];return Object(n.useEffect)((function(){D(o),g()}),[o,D]),Object(n.useImperativeHandle)(t,(function(){return Y})),Object(O.jsxs)("div",{className:Object(p.a)(b.a.calendar,Object(j.a)({},b.a.calendar6,6===f)),children:[k.days.map((function(e){return Object(O.jsx)(y,{children:e},e)})),m.map((function(e,t){return Object(O.jsx)(x,{day:e,onDayClick:function(t){return d(e)},onEventClick:function(e){return i(e)}},t)}))]})},D=Object(n.forwardRef)(D),function(e,t){var a=Object.assign({},e),c=function(){var e=Object(n.useState)({calendar:{},days:Array(35).fill(null),rows:5}),t=Object(l.a)(e,2),a=t[0],c=t[1],r=Object(n.useCallback)((function(e){return e?a.calendar[e.format("YYYY-MM-DD")]:{events:[]}}),[a]),o=Object(n.useCallback)((function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t="YYYY-MM-DD",a=u()(),n=(e?u()(e):u()()).startOf("month"),r=n.daysInMonth(),o=n.format("d"),s=[],l=o;l>0;l--)s.push(n.clone().add(-l,"day"));s.push(n);for(var d=1;d<r;d++)s.push(n.clone().add(d,"day"));for(var j=s.length,p=j>35?42-j:35-j,v=0;v<p;v++)s.push(s[s.length-1].clone().add(1,"day"));for(var b={},m=0,O=s;m<O.length;m++){var f=O[m],h=f.format(t),x=f.format("MM"),_=n.format("MM"),D=1===+f.format("D");b[h]={shouldDisplayMonth:D,isThisMonth:x===_,isToday:a.format(t)===h,events:[]}}c((function(e){return Object(i.a)(Object(i.a)({},e),{},{calendar:b,days:[].concat(s),rows:s.length/7})}))}),[c]),d=function(){return localStorage.setItem("calendar",JSON.stringify(a.calendar))},j=function(e){var t,a=e.startDate,n=e.endDate,r=e.title,o=e.memo,s=e.person,l=e.place,j=e.link,p=e.userId,v=u()(a).format("YYYY-MM-DD");return c((function(e){var c=Object(i.a)({},e.calendar);return t={id:m(),startDate:a,endDate:n,title:r,memo:o,person:s,place:l,link:j,userId:p},c[v].events.push(t),Object(i.a)(Object(i.a)({},e),{},{calendar:c})})),d(),t},p=function(e){var t=e.date,n=e.id,r=a.calendar[t];if(!r)return!1;var o=r.events.filter((function(e){return e.id===n}));return!!(o=o.pop())&&(c((function(e){var a=Object(i.a)({},e.calendar),c=a[t].events.filter((function(e){return e.id!==n}));return a[t].events=c,Object(i.a)(Object(i.a)({},e),{},{calendar:a})})),d(),o)};return Object(n.useEffect)((function(){window.EE=j}),[a]),{state:a,load:o,getDayState:r,loadCalendar:function(){var e=JSON.parse(localStorage.getItem("calendar"));e&&c((function(t){return Object(i.a)(Object(i.a)({},t),{},{calendar:Object(i.a)(Object(i.a)({},t.calendar),e)})}))},Event:{create:j,update:function(e,t){var a=e.date,n=e.id,c=t.startDate,r=t.endDate,o=t.title,s=t.memo,i=t.person,l=t.place,d=t.link,u=t.userId;if(p({id:n,date:a}))return j({startDate:c,endDate:r,title:o,memo:s,person:i,place:l,link:d,userId:u}),!0},delete:p,all:function(){var e=[];return Object.keys(a.calendar).map((function(t){e.push.apply(e,Object(s.a)(a.calendar[t].events))})),e},at:function(e){return(a.calendar[e]||{events:[]}).events},ofUserAt:function(e,t){return(a.calendar[t]||{events:[]}).events.filter((function(t){return t.userId===e}))}}}}();return Object(O.jsx)(f.Provider,{value:c,children:Object(O.jsx)(D,Object(i.a)(Object(i.a)({},a),{},{ref:t}))})}));function y(e){var t=e.children;return Object(O.jsx)("span",{className:b.a.title,children:t})}var Y=a(184),k=a.n(Y),M=a(133),P={en:{today:"Today"},jp:{today:"\u4eca\u65e5"}},C=a(124),w=a.n(C),N=a(65),E={en:{events:"Events"},jp:{events:"\u30a4\u30d9\u30f3\u30c8"}};function S(){var e=W(),t=e.state,a=t.events,c=t.locale,r=e.setEventViewVisibility,o=e.eventPopup,s=E[c];return Object(n.useEffect)((function(){var e=function(e){27===e.keyCode&&r(!1)};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[]),Object(O.jsxs)("div",{className:w.a.events,children:[Object(O.jsxs)("div",{className:w.a.title,children:[Object(O.jsx)("span",{children:s.events}),Object(O.jsx)(N.a,{name:"close",color:"grey",onClick:function(e){return r(!1)}})]}),a.map((function(e,t){return Object(O.jsx)(I,{onUpdate:function(){o.open("update",null,Object(i.a)({},e))},showPerson:!1,link:e.link,place:e.place,person:e.person,endDate:e.endDate,startDate:e.startDate,title:e.title,memo:e.memo},t)}))]})}function I(e){var t=e.readOnly,a=void 0!==t&&t,n=e.title,r=e.showPerson,o=e.person,s=e.memo,i=e.startDate,l=e.endDate,d=e.place,j=e.link,p=e.onUpdate,v=void 0===p?function(){}:p,b=u()(i).format("MMM D YYYY \u22c5 hh:mma - ")+u()(l).format("hh:mma");return Object(O.jsxs)("div",{className:w.a.event,children:[!a&&Object(O.jsx)(N.a,{name:"edit",className:w.a.editEvent,color:"blue",onClick:v}),Object(O.jsx)(N.a,{name:"sticky note"}),Object(O.jsxs)("div",{className:w.a.eventDateAndTime,children:[Object(O.jsx)("span",{children:n}),Object(O.jsx)("span",{children:b})]}),r&&Object(O.jsxs)(c.a.Fragment,{children:[Object(O.jsx)(N.a,{name:"user"}),Object(O.jsx)("span",{children:o})]}),Object(O.jsx)(N.a,{name:"map marker"}),Object(O.jsx)("span",{children:d}),Object(O.jsx)(N.a,{name:"file alternate"}),Object(O.jsx)("span",{children:s}),!!j&&Object(O.jsxs)(c.a.Fragment,{children:[Object(O.jsx)(N.a,{name:"linkify"}),Object(O.jsx)("a",{href:j,children:j})]})]})}var T=a(24),V=a.n(T),H=a(466),J=a(185);function L(e){var t=e.onSave,a=e.onDelete,c=W(),r=c.state,o=c.eventPopup,s=c.setEventPopupDay,d=r.eventPopup.data,v=Object(n.useState)(d.startDate?u()(d.startDate).format("HH:mm"):u()().format("HH:mm")),b=Object(l.a)(v,2),f=b[0],h=b[1],x=Object(n.useState)(d.endDate?u()(d.endDate).format("HH:mm"):u()().add(1,"hour").format("HH:mm")),_=Object(l.a)(x,2),D=_[0],g=_[1],y=Object(n.useMemo)((function(){for(var e=0,t=Object.keys(r.eventPopup.data);e<t.length;e++){var a=t[e];if("id"!==a&&""===r.eventPopup.data[a])return console.log(a,r.eventPopup.data[a]),!0}return!1}),[r.eventPopup.data]),Y=function(e,t){var a=t.name,n=t.value;if("date"===a)return s(n);var c=u()("".concat(r.eventPopup.day," ").concat(n),"YYYY-MM-DD HH:mm").format();"startTime"===a?(h(n),o.setData({startDate:c})):(g(n),o.setData({endDate:c}))},k=function(e){return function(t){o.setData(Object(j.a)({},e,t.target.value))}},P=Object(p.a)(V.a.backdrop,Object(j.a)({},V.a.hidden,!o.visible)),C="create"===o.mode?"Create event":"Update event";return Object(O.jsx)("div",{className:P,onClick:function(e){return o.close()},children:Object(O.jsxs)("div",{className:V.a.popup,onClick:function(e){return e.stopPropagation()},children:["update"===r.eventPopup.mode&&Object(O.jsx)(N.a,{name:"trash",color:"red",className:V.a.deleteIcon,onClick:function(e){a(d.id,u()(d.startDate).format("YYYY-MM-DD"))}}),Object(O.jsx)("span",{className:V.a.title,children:C}),Object(O.jsxs)("div",{className:V.a.input,children:[Object(O.jsx)("span",{children:"Title"}),Object(O.jsx)(H.a,{value:d.title,placeholder:"Event title",onChange:k("title")})]}),Object(O.jsxs)("div",{className:V.a.input,children:[Object(O.jsx)("span",{children:"Date"}),Object(O.jsxs)("div",{className:V.a.dtGrid,children:[Object(O.jsx)(J.DateInput,{value:r.eventPopup.day||u()(d.startDate).format("YYYY-MM-DD"),closable:!0,minDate:new Date,dateFormat:"YYYY-MM-DD",onChange:Y,className:V.a.date,name:"date",placeholder:"Date of the event",iconPosition:"right"}),!!r.eventPopup.day&&Object(O.jsx)(J.TimeInput,{value:f,closable:!0,className:Object(p.a)(V.a.time1,V.a.time),name:"startTime",onChange:Y,placeholder:"From",iconPosition:"right"}),!!r.eventPopup.day&&Object(O.jsx)(J.TimeInput,{value:D,closable:!0,className:Object(p.a)(V.a.time2,V.a.time),name:"endTime",onChange:Y,placeholder:"To",iconPosition:"right"})]})]}),Object(O.jsxs)("div",{className:V.a.input,children:[Object(O.jsx)("span",{children:"Name"}),Object(O.jsx)(H.a,{value:d.person,placeholder:"Your name",onChange:k("person")})]}),Object(O.jsxs)("div",{className:V.a.input,children:[Object(O.jsx)("span",{children:"Place"}),Object(O.jsx)(H.a,{value:d.place,placeholder:"Place of the event",onChange:k("place")})]}),Object(O.jsxs)("div",{className:V.a.input,children:[Object(O.jsx)("span",{children:"Link"}),Object(O.jsx)(H.a,{value:d.link,placeholder:"Link to the event",onChange:k("link")})]}),Object(O.jsxs)("div",{className:V.a.input,children:[Object(O.jsx)("span",{children:"Memo"}),Object(O.jsx)(H.a,{value:d.memo,placeholder:"Description of the event",onChange:k("memo")})]}),Object(O.jsx)(M.a,{onClick:function(){t(r.eventPopup.mode,Object(i.a)(Object(i.a)({},r.eventPopup.data),{},{userId:m()}))},primary:!0,className:V.a.button,disabled:y,children:"Save"})]})})}function A(){var e=W(),t=e.state,a=t.locale,c=t.targetDate,r=(t.events,t.eventPopup),o=e.showEventView,s=e.setEventViewVisibility,i=e.eventPopup,l=Object(n.useRef)({});return Object(O.jsxs)("div",{className:k.a.scheduler,children:[Object(O.jsx)(F,{}),Object(O.jsx)(g,{ref:l,locale:a,targetDate:c.format("YYYY-MM-DD"),onEventClick:function(e){return s(!0,e)},onDayClick:function(e){i.open("create",e.format("YYYY-MM-DD"))}}),o&&Object(O.jsx)(S,{eventController:l}),Object(O.jsx)(L,{onSave:function(e,t){if(l.current){var a=u()(t.startDate).format("YYYY-MM-DD");"create"===e?l.current.create(t):l.current.update({id:r.data.id,date:a},t),s(!1),i.close()}},onDelete:function(e,t){l.current&&(l.current.delete({id:e,date:t}),s(!1),i.close())}})]})}function F(){var e=W(),t=e.state,a=t.locale,n=t.targetDate,c=(e.setLocale,e.setTargetDate),r=P[a],o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(t){var a=0===e?u()():n;c(a.add(e,"month"))}};return Object(O.jsx)("div",{className:k.a.controls,children:Object(O.jsxs)("div",{children:[Object(O.jsx)(M.a,{color:"blue",onClick:o(),children:r.today}),Object(O.jsx)(M.a,{icon:"angle left",onClick:o(-1)}),Object(O.jsx)(M.a,{icon:"angle right",onClick:o(1)}),Object(O.jsx)("span",{className:k.a.date,children:n.format("MMM YYYY")})]})})}var U=a(140),B=a.n(U);function G(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(!1),o=Object(l.a)(r,2),d=o[0],u=o[1],p=Object(n.useState)({username:"",password:""}),v=Object(l.a)(p,2),b=v[0],m=v[1];Object(n.useEffect)((function(){d&&function(){var e=localStorage.getItem("calendar");if(e){var t=JSON.parse(e),a=[];for(var n in t)a.push.apply(a,Object(s.a)(t[n].events));c(a)}}()}),[d]);var f=function(e){return function(t){m(Object(i.a)(Object(i.a)({},b),{},Object(j.a)({},e,t.target.value)))}};return d?Object(O.jsxs)("div",{className:B.a.dashboard,children:[Object(O.jsx)("span",{children:"Events"}),Object(O.jsx)("div",{className:B.a.events,children:a.map((function(e){return console.log(e.startDate),Object(O.jsx)(I,{readOnly:!0,showPerson:!0,link:e.link,place:e.place,person:e.person,endDate:e.endDate,startDate:e.startDate,title:e.title,memo:e.memo})}))})]}):Object(O.jsx)("div",{className:B.a.login,children:Object(O.jsxs)("form",{className:B.a.loginBox,onSubmit:function(e){e.preventDefault(),"admin"===b.username&&"admin"===b.password&&u(!0),m({username:"",password:""})},children:[Object(O.jsx)("span",{children:"Login"}),Object(O.jsx)(H.a,{placeholder:"Username",onChange:f("username")}),Object(O.jsx)(H.a,{type:"password",placeholder:"Password",onChange:f("password")}),Object(O.jsx)(M.a,{type:"submit",primary:!0,children:"Submit"})]})})}var R=Object(n.createContext)(null);function W(){return Object(n.useContext)(R)}function q(){return"/dashboard"===document.location.pathname?Object(O.jsx)(G,{}):Object(O.jsx)(A,{})}var Z=function(){var e={id:"",title:"title",memo:"",place:"",link:"",person:"",startDate:"",endDate:""},t=Object(n.useState)({targetDate:u()(),userId:"",locale:"en",events:[],eventPopup:{mode:"hidden",day:null,data:e},eventViewVisibility:!1}),a=Object(l.a)(t,2),c=a[0],r=a[1];Object(n.useEffect)((function(){var e=localStorage.getItem("locale"),t=localStorage.getItem("userId");v(t),p(e||"en")}),[]);var o="hidden"!==c.eventPopup.mode,d=c.eventPopup.mode,j=c.eventViewVisibility&&c.events.length>0,p=function(e){r((function(t){return Object(i.a)(Object(i.a)({},t),{},{locale:e})})),localStorage.setItem("locale",e)},v=function(e){e=e||m(),r((function(t){return Object(i.a)(Object(i.a)({},t),{},{userId:e})})),localStorage.setItem("userId",e)},b={state:c,eventPopup:{open:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"create",t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;r((function(n){return"create"===e?Object(i.a)(Object(i.a)({},n),{},{eventPopup:Object(i.a)(Object(i.a)({},n.eventPopup),{},{mode:e,day:t})}):"update"===e?Object(i.a)(Object(i.a)({},n),{},{eventPopup:Object(i.a)(Object(i.a)({},n.eventPopup),{},{mode:e,day:null,data:Object(i.a)({},a)})}):void 0}))},close:function(){r((function(t){return Object(i.a)(Object(i.a)({},t),{},{eventPopup:{mode:"hidden",day:null,data:e}})}))},mode:d,visible:o,setData:function(e){r((function(t){return Object(i.a)(Object(i.a)({},t),{},{eventPopup:Object(i.a)(Object(i.a)({},t.eventPopup),{},{data:Object(i.a)(Object(i.a)({},t.eventPopup.data),e)})})}))}},showEventView:j,setEventPopupDay:function(e){r((function(t){return Object(i.a)(Object(i.a)({},t),{},{eventPopup:Object(i.a)(Object(i.a)({},t.eventPopup),{},{day:e})})}))},setLocale:p,setEventViewVisibility:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return r((function(a){return Object(i.a)(Object(i.a)({},a),{},{eventViewVisibility:e,events:Object(s.a)(t)})}))},setTargetDate:function(e){return r((function(t){return Object(i.a)(Object(i.a)({},t),{},{targetDate:e})}))}};return Object(O.jsx)(R.Provider,{value:b,children:Object(O.jsx)(q,{})})};o.a.render(Object(O.jsx)(Z,{}),document.getElementById("root"))},52:function(e,t,a){e.exports={calendar:"calendar_calendar__2VAmk",calendar6:"calendar_calendar6__YTYN6",title:"calendar_title__2RHEq",day:"calendar_day__2DYuE",withMonth:"calendar_withMonth__K2MZn",today:"calendar_today__y5NiB",dim:"calendar_dim__MJp24",event:"calendar_event__3vfkT",more:"calendar_more__39H8v"}}},[[421,1,2]]]);
//# sourceMappingURL=main.54de6fda.chunk.js.map